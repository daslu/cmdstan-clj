# cmdstan-clj

cmdstan-clj is a Clojure wrapper of [Stan](https://mc-stan.org/) probabilistic programming language that uses the [CmdStan](https://mc-stan.org/users/interfaces/cmdstan) CLI.

[![Clojars Project](https://img.shields.io/clojars/v/org.scicloj/cmdstan-clj.svg)](https://clojars.org/org.scicloj/cmdstan-clj)

If you wish to help in testing and extending this library, we would be glad to chat. It can be a nice opportunity to practice Bayesian Statistics, even if you are not experienced with it yet.

## Status 

Currently, this is an evolving proof-of-concept, still a bit fragile with respect to edge cases and setup.

## Usage

You will need [CmdStan](https://mc-stan.org/users/interfaces/cmdstan.html) [installed](https://mc-stan.org/docs/cmdstan-guide/installation.html) in your system, and the environment variable `STAN_HOME` pointing to its location.

Them you can follow the ðŸ‘£ [walkthrough](https://scicloj.github.io/cmdstan-clj) and ðŸŽ¥ [video](https://www.youtube.com/watch?v=1Y89-UlG1FA).

## Why

Stan is a programming language for Bayesian statistical modelling with wonderful community and ecosystem.

Clojure has a few actively developed probabilistic programming options such as [Inferme](https://github.com/generateme/inferme) and [Gen.clj](https://github.com/probcomp/Gen.clj). Still, at some use casese, Stan is more efficient and certainly has a more complete ecosystem around it. While the pure-Clojure options keep evolving, it would be good to have Stan as well in our toolset. It may also help us in benchmarking and testing the other options.

One way to interoperate with Stan is through the command line CmdStan. It is a common way, used in other languages. Ideally, it should allow choosing a version of CmdStan, as well as compiling it for using the GPU.

[clj-stan](https://github.com/thomasathorne/clj-stan) is great, but only supports an old version of CmdStan.

In the current project, we explore the current version of CmdStan. Possibly, when the details clarify, we may propose merging the new implementation into the existing clj-stan.

## Implementation details

Currently, cmdstan-clj runs CmdStan through the makefile as [advised by the manual](https://mc-stan.org/docs/cmdstan-guide/compiling_stan_programs.html). In the future, we may consider a more direct apporach as clj-stan [seems to do](https://github.com/thomasathorne/clj-stan/blob/master/src/clj_stan/core.clj). At the moment, the practical difference are not clear to us.

## License

Copyright Â© 2024 Scicloj

_EPLv1.0 is just the default for projects generated by `clj-new`: you are not_
_required to open source this project, nor are you required to use EPLv1.0!_
_Feel free to remove or change the `LICENSE` file and remove or update this_
_section of the `README.md` file!_

Distributed under the Eclipse Public License version 1.0.


 
